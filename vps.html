<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPS - YGHosting</title>
    <meta name="description" content="Choose from three premium Minecraft hosting plans: Dirt, Diamond, and Gold. All plans include 30-day money-back guarantee.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <div class="logo">
                    <a href="index.html" style="display: flex; align-items: center; gap: 0.5rem; text-decoration: none;">
                        <div class="logo-icon">‚¨õ</div>
                        <span class="logo-text">YGHosting</span>
                    </a>
                </div>
                <div class="nav-links">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="index.html#features" class="nav-link">Features</a>
                    <a href="https://gp.yghosting.xyz" class="nav-link active">Game Panel</a>
                    <a href="https://discord.gg/6uM9HgqF2h" class="nav-link">Support</a>
                    <a href="pricing.html" class="nav-link">MC Server</a>
                    <a href="#" class="btn btn-primary">Buy VPS</a>
                </div>
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                    <span>‚ò∞</span>
                </button>
            </nav>
            <div class="mobile-menu" id="mobileMenu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="index.html#features" class="nav-link">Features</a>
                <a href="https://gp.yghosting.xyz" class="nav-link active">Game Panel</a>
                <a href="https://discord.gg/6uM9HgqF2h" class="nav-link">Support</a>
                <a href="#" class="btn btn-primary">Buy VPS</a>
            </div>
        </div>
    </header>

    <section class="hero" style="padding: 4rem 0;">
        <div class="container">
            <div class="hero-content">
                <h1 style="font-size: 3rem;">Choose Your Perfect Plan</h1>
                <p>From casual builders to massive communities, we have the perfect solution for your server needs. All plans include 30-day money-back guarantee.</p>
            </div>
        </div>
    </section>

    <section class="pricing">
        <div class="container">
            <div class="pricing-grid">
                <div class="plan-card" data-plan="Dirt Plan" data-price="1">
                    <div class="plan-header">
                        <div class="plan-icon bg-gradient-gold">üì¶</div>
                        <h3 class="plan-name">Dirt Plan</h3>
                        <div class="plan-price text-gold">1 INR<span style="font-size: 1rem; color: #9CA3AF;">/month</span></div>
                    </div>
                    <ul class="plan-features">
                        <li>4GB RAM</li><li>2 VCPUs</li><li>Unlimited Bandwidth</li>
                        <li>50GB SSD Storage</li><li>Daily backups</li>
                        <li>DDoS protection</li><li>Discord support</li>
                    </ul>
                    <button class="btn btn-gradient get-started-btn" style="width: 100%;" data-plan="Dirt Plan" data-price="1">Get Started</button>
                </div>
                <div class="plan-card popular" data-plan="Diamond Plan" data-price="500">
                    <div class="plan-badge">MOST POPULAR</div>
                    <div class="plan-header">
                        <div class="plan-icon bg-gradient-blue">üíé</div>
                        <h3 class="plan-name">Diamond Plan</h3>
                        <div class="plan-price text-blue">500 INR<span style="font-size: 1rem; color: #9CA3AF;">/month</span></div>
                    </div>
                    <ul class="plan-features">
                        <li>8GB RAM</li><li>4 VCPUs</li><li>Unlimited Bandwidth</li>
                        <li>100GB SSD Storage</li><li>Hourly backups</li>
                        <li>Advanced DDoS protection</li><li>Priority support</li>
                    </ul>
                    <button class="btn btn-gradient get-started-btn" style="width: 100%;" data-plan="Diamond Plan" data-price="500">Get Started</button>
                </div>
                <div class="plan-card" data-plan="Gold Plan" data-price="850">
                    <div class="plan-header">
                        <div class="plan-icon bg-gradient-purple">üëë</div>
                        <h3 class="plan-name">Gold Plan</h3>
                        <div class="plan-price text-purple">850 INR<span style="font-size: 1rem; color: #9CA3AF;">/month</span></div>
                    </div>
                    <ul class="plan-features">
                        <li>16GB RAM</li><li>8 VCPUs</li><li>Unlimited Bandwidth</li>
                        <li>200GB SSD Storage</li><li>Real-time backups</li>
                        <li>Enterprise DDoS protection</li><li>24/7 phone support</li>
                        <li>Custom plugins</li><li>Dedicated IPs</li>
                    </ul>
                    <button class="btn btn-gradient get-started-btn" style="width: 100%;" data-plan="Gold Plan" data-price="850">Get Started</button>
                </div>
            </div>
            <div style="text-align: center; margin-top: 3rem;">
                <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap; font-size: 0.875rem; color: #6B7280;">
                    <span>‚úì Secure Payment</span>
                    <span>‚úì 30-Day Refund</span>
                    <span>‚úì SSL Protected</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Email Modal -->
    <div id="emailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-icon">‚úâÔ∏è</div>
                <h2>Almost There!</h2>
                <p style="color: #9CA3AF;">
                    Enter your details to continue with your 
                    <span id="selectedPlan" style="color: var(--gaming-purple); font-weight: 600;"></span>
                </p>
            </div>
            <form id="userInfoForm" action="https://formspree.io/f/xyzjevyo" method="POST">
                <input type="hidden" id="formPlan" name="plan">
                <input type="hidden" id="formPrice" name="price">
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" id="email" name="email" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Server Location</label>
                    <select id="location" name="location" class="form-select" required>
                        <option value="">Select server location</option>
                        <option value="Singapore">Singapore</option>
                        <option value="India">India</option>
                        <option value="USA">USA</option>
                        <option value="Germany">Germany</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Server Operating System</label>
                    <select id="serverType" name="server_type" class="form-select" required>
                        <option value="">Select OS</option>
                        <option value="Ubuntu LTS">Ubuntu</option>
                        <option value="CentOS">CentOS</option>
                        <option value="Debian">Debian</option>
                        <option value="Custom">Custom</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">VCPUs Required</label>
                    <input type="text" id="vcpus" name="vcpus" class="form-input" placeholder="Leave 0, If Default Amt." required>
                </div>
                <div class="form-group">
                    <label class="form-label">Discord Username</label>
                    <input type="text" id="discord" name="discord" class="form-input" required>
                </div>
                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="terms" name="terms" required>
                        <label class="checkbox-label">
                            I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                        </label>
                    </div>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn btn-cancel" id="cancelBtn">Cancel</button>
                    <button type="submit" class="btn btn-submit" id="submitBtn">Continue to Payment</button>
                </div>
            </form>
        </div>
    </div>

    <script>
    // Mobile menu toggle
    function toggleMobileMenu() {
        const mobileMenu = document.getElementById('mobileMenu');
        if (mobileMenu) {
            mobileMenu.classList.toggle('show');
        }
    }

    // Modal logic
    function openModal(plan, price) {
        const modal = document.getElementById('emailModal');
        modal.classList.add('show');
        document.getElementById('selectedPlan').textContent = plan;
        document.getElementById('formPlan').value = plan;
        document.getElementById('formPrice').value = price;
        document.body.style.overflow = 'hidden';
    }
    function closeModal() {
        const modal = document.getElementById('emailModal');
        modal.classList.remove('show');
        document.body.style.overflow = 'auto';
        document.getElementById('userInfoForm').reset();
    }
    document.getElementById('cancelBtn').onclick = closeModal;
    window.onclick = function(event) {
        if (event.target === document.getElementById('emailModal')) closeModal();
    };
    window.addEventListener('keydown', function(event) {
        if (event.key === "Escape") closeModal();
    });

    // Open modal on Get Started
    document.querySelectorAll('.get-started-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            openModal(this.dataset.plan, this.dataset.price);
        });
    });

    // Payment flow
    document.getElementById('userInfoForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const form = this;
        const data = new FormData(form);

        // Extract info for backend/payment
        const plan = document.getElementById('formPlan').value;
        const price = parseInt(document.getElementById('formPrice').value);
        const email = document.getElementById('email').value;
        const discord = document.getElementById('discord').value;
        const location = document.getElementById('location').value;
        const serverType = document.getElementById('serverType').value;
        const vcpus = document.getElementById('vcpus').value;

        // 1. Submit to Formspree for notification
        fetch(form.action, {
            method: 'POST',
            body: data,
            headers: {'Accept': 'application/json'}
        }).then(function(response) {
            if (response.ok) {
                // 2. Create Razorpay order on backend
                fetch('https://razorpay.yghosting.xyz/api/v1/create-order', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ plan, price, email, discord, location, serverType, vcpus })
                })
                .then(res => res.json())
                .then(res => {
                    const { order } = res;
                    // 3. Launch Razorpay
                    var options = {
                        "key": "rzp_live_80e5ubkoqDILi3", // TODO: Replace with your Razorpay Key ID
                        "amount": order.amount,
                        "currency": order.currency,
                        "name": "YGHosting",
                        "description": plan + " Purchase",
                        "order_id": order.id,
                        "handler": function (response){
                            // 4. Send payment info to backend for verification and storage
                            fetch('https://razorpay.yghosting.xyz/api/v1/order', {
                                method: 'POST',
                                headers: {'Content-Type': 'application/json'},
                                body: JSON.stringify({
                                    plan, price, email, discord, location, serverType, vcpus,
                                    razorpay_payment_id: response.razorpay_payment_id,
                                    razorpay_order_id: response.razorpay_order_id,
                                    razorpay_signature: response.razorpay_signature
                                })
                            }).then(r => r.json()).then(r => {
                                closeModal();
                                alert('Thank you! Payment successful. We will contact you soon.');
                                window.location.href = "https://discord.gg/6uM9HgqF2h";
                            }).catch(() => {
                                alert('Payment succeeded, but error saving your order. Please contact support.');
                            });
                        },
                        "prefill": { "email": email, "name": discord },
                        "theme": { "color": "#8B5CF6" }
                    };
                    var rzp = new Razorpay(options);
                    rzp.open();
                });
            } else {
                alert('There was a problem submitting your info. Please try again.');
            }
        });
    });

    // Smooth scrolling for hash links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Close mobile menu when clicking on a link
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('nav-link') && window.innerWidth <= 768) {
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu) {
                mobileMenu.classList.remove('show');
            }
        }
    });
    window.addEventListener('resize', function() {
        if (window.innerWidth > 768) {
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu) {
                mobileMenu.classList.remove('show');
            }
        }
    });
    </script>
</body>
</html>
